{
    "name": "SddCashManagerDevContainer",
    "image": "mcr.microsoft.com/devcontainers/python:3.12-trixie",
    "runArgs": ["--network=sonar-net"],
    "features": {
        "ghcr.io/devcontainers/features/common-utils:2": {
            "upgradePackages": true,
            "username": "devcontainer"
        },
        "ghcr.io/devcontainers/features/git:1": {
            "ppa": true,
            "version": "latest"
        },
        "ghcr.io/devcontainers/features/python:1": {
            "version": "3.12",
            "installTools": true,
            "toolsToInstall": "flake8,autopep8,black,yapf,mypy,pydocstyle,pycodestyle,bandit,pipenv,virtualenv,pytest,pylint"
        },
        "ghcr.io/devcontainers/features/node": {
            "version": "lts"
        }
    },
    "forwardPorts": [],
    "containerUser": "devcontainer",
    "updateRemoteUserUID": true,
    "remoteUser": "root",
    "postCreateCommand": "chown -R ${containerUser}:${containerUser} /workspaces/sdd-cash-manager || true",
    // "postCreateCommand": "chmod +x ./.devcontainer/post-create.sh && ./.devcontainer/post-create.sh",
    "postStartCommand": "git config --global --add safe.directory ${containerWorkspaceFolder}",
    "customizations": {
        "vscode": {
            "extensions": [
                "mhutchie.git-graph",
                "google.geminicodeassist",
                "jimasp.behave-vsc",
                "charliermarsh.ruff",
                "ms-python.vscode-mypy",
                "ms-python.vscode-pyright",
                "vivaxy.vscode-commitizen",
                "ms-python.python",
                "ms-python.vscode-pylance",
                "ms-python.autopep8"
            ],
            "settings": {
                "debug.javascript.autoAttachFilter": "disabled",
                "git.autofetch": true,
                "chat.promptFilesRecommendations": {
                    "speckit.constitution": true,
                    "speckit.specify": true,
                    "speckit.plan": true,
                    "speckit.tasks": true,
                    "speckit.implement": true,
                    "speckit.analyze": true,
                    "speckit.checklist": true,
                    "speckit.clarify": true,
                    "speckit.taskstoissues": true
                },
                "chat.tools.terminal.autoApprove": {
                    ".specify/scripts/bash/": true,
                    ".specify/scripts/powershell/": false
                }
            }
        }
    }
}